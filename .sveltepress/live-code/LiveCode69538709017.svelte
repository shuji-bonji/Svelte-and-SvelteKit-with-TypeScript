<script lang="ts">
  let activeTab = $state('tab1');
  let count = $state(0);
</script>

{#snippet tab1Content()}
  <div style="padding: 1rem; background: #f0f0f0; border-radius: 4px;">
    <h3>ğŸ“ ã‚¿ãƒ–1: åŸºæœ¬æƒ…å ±</h3>
    <p>Snippetã‚’ä½¿ã£ãŸå‹•çš„ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ä¾‹ã§ã™ã€‚</p>
    <button onclick={() => count++} style="padding: 0.5rem; background: #ff3e00; color: white; border: none; border-radius: 4px;">
      ã‚«ã‚¦ãƒ³ãƒˆ: {count}
    </button>
  </div>
{/snippet}

{#snippet tab2Content()}
  <div style="padding: 1rem; background: #e8f5e9; border-radius: 4px;">
    <h3>ğŸ¨ ã‚¿ãƒ–2: ãƒ‡ã‚¶ã‚¤ãƒ³è¨­å®š</h3>
    <p>ç•°ãªã‚‹Snippetã‚’åˆ‡ã‚Šæ›¿ãˆã¦è¡¨ç¤ºã§ãã¾ã™ã€‚</p>
    <p>ç¾åœ¨ã®ã‚«ã‚¦ãƒ³ãƒˆå€¤: <strong>{count}</strong></p>
  </div>
{/snippet}

{#snippet tab3Content()}
  {@const doubled = count * 2}
  <div style="padding: 1rem; background: #fff3e0; border-radius: 4px;">
    <h3>âš™ï¸ ã‚¿ãƒ–3: è©³ç´°è¨­å®š</h3>
    <p>@constã‚’ä½¿ã£ã¦è¨ˆç®—å€¤ã‚’å®šç¾©: {count} Ã— 2 = <strong>{doubled}</strong></p>
  </div>
{/snippet}

<div style="padding: 1rem;">
  <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem;">
    <button 
      onclick={() => activeTab = 'tab1'}
      style="padding: 0.5rem 1rem; background: {activeTab === 'tab1' ? '#ff3e00' : '#ccc'}; color: white; border: none; border-radius: 4px; cursor: pointer;"
    >
      ã‚¿ãƒ–1
    </button>
    <button 
      onclick={() => activeTab = 'tab2'}
      style="padding: 0.5rem 1rem; background: {activeTab === 'tab2' ? '#ff3e00' : '#ccc'}; color: white; border: none; border-radius: 4px; cursor: pointer;"
    >
      ã‚¿ãƒ–2
    </button>
    <button 
      onclick={() => activeTab = 'tab3'}
      style="padding: 0.5rem 1rem; background: {activeTab === 'tab3' ? '#ff3e00' : '#ccc'}; color: white; border: none; border-radius: 4px; cursor: pointer;"
    >
      ã‚¿ãƒ–3
    </button>
  </div>
  
  {#if activeTab === 'tab1'}
    {@render tab1Content()}
  {:else if activeTab === 'tab2'}
    {@render tab2Content()}
  {:else if activeTab === 'tab3'}
    {@render tab3Content()}
  {/if}
</div>